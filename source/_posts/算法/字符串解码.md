---
title: 字符串解码
categories: 
  - 算法
tags:
  - 字符串解码
sidebar: none 
date: 2024-02-01
---
```
package main

import (
	"fmt"
	"strings"
)

func decodeString(s string) string {
	stack := []string{}
	currentNum := 0
	currentStr := ""

	for _, char := range s {
		if char >= '0' && char <= '9' {
			// 当前字符是数字，更新当前数字
			currentNum = currentNum*10 + int(char-'0')
		} else if char == '[' {
			// 当前字符是左括号，将当前数字和字符串入栈，并重置
			stack = append(stack, currentStr, fmt.Sprint(currentNum))
			currentStr = ""
			currentNum = 0
		} else if char == ']' {
			// 当前字符是右括号，出栈数字和字符串，进行解码
			num, _ := fmt.Sprint(stack[len(stack)-1])
			stack = stack[:len(stack)-1]
			prevStr := stack[len(stack)-1]
			stack = stack[:len(stack)-1]

			repeatedStr := strings.Repeat(currentStr, numToInt(num))
			currentStr = prevStr + repeatedStr
		} else {
			// 当前字符是字母，追加到当前字符串
			currentStr += string(char)
		}
	}

	return currentStr
}

func numToInt(numStr string) int {
	num, _ := fmt.Sprint(numStr)
	result := 0
	for _, digit := range num {
		result = result*10 + int(digit-'0')
	}
	return result
}

func main() {
	// 示例字符串
	encodedStr := "3[a2[bc]]"

	// 解码字符串
	decodedStr := decodeString(encodedStr)

	// 输出结果
	fmt.Printf("解码后的字符串: %s\n", decodedStr)
}

```