---
title: Kubebuilder Webhook 开发之创建 TLS 证书
categories: 
  - Docker
tags:
  - docker
sidebar: none 
date: 2021-06-21
---
## docker的七种网络模型
```
Docker中常见的七种网络模型如下：

Bridge（桥接）网络：默认的网络模型，用于在单个主机上连接容器。每个容器都有自己的网络命名空间，分配一个独立的IP地址，并通过桥接网络与主机通信。

Host（主机）网络：容器与宿主机共享网络命名空间，直接使用宿主机的网络栈，因此网络通信速度最快。适用于需要最大化网络性能的场景，但会牺牲一定的网络隔离性。

Overlay（覆盖）网络：在多个Docker守护程序或主机之间创建的虚拟网络。使用覆盖技术在底层物理网络之上构建虚拟网络，实现容器之间的跨主机通信。

Macvlan（MAC虚拟化）网络：允许将容器直接映射到物理网络中的不同MAC地址，使其可以像物理设备一样进行通信。适用于需要容器直接与物理网络通信的场景。

IPvlan（IP虚拟化）网络：类似于Macvlan，但是容器共享宿主机的MAC地址，但分配独立的IP地址。适用于需要容器直接与物理网络通信的场景。

None（无网络）网络：容器没有默认的网络连接，需要用户自行配置网络。适用于特殊场景，如不需要网络连接的容器。

Container（容器）网络：用户可以创建自定义的网络模型，根据特定需求配置网络。可以根据需要选择网络驱动程序、子网、网关等参数进行配置。
```
## overlay和bridge网络模型的区别
```
Overlay网络和Bridge网络是Docker中两种不同的网络模型，它们有以下主要区别：

Bridge（桥接）网络：

桥接网络是 Docker 默认的网络模型。
每个容器都有自己的网络命名空间，分配一个独立的IP地址。
容器之间可以通过桥接网络进行通信，但默认情况下无法跨主机通信。
桥接网络提供了一定程度的网络隔离。
Overlay（覆盖）网络：

覆盖网络是在多个Docker守护程序或主机之间创建的虚拟网络。
它使用覆盖技术在底层物理网络之上构建虚拟网络，实现容器之间的跨主机通信。
覆盖网络允许在集群中的多个主机上运行的容器相互通信，使得容器编排系统（如Kubernetes、Docker Swarm等）能够管理分布式应用。
覆盖网络提供了更高级的网络功能，如服务发现、负载均衡等，适用于构建复杂的分布式系统。

总的来说，桥接网络适用于单个主机上的容器通信，而覆盖网络适用于跨多个主机的容器通信，提供了更强大的网络功能和扩展性。
```

## 云厂商不选择macvlan和ipvlan的缘由
```
在Docker网络模型中，macvlan和ipvlan是两种可选的网络模式，但一般情况下并不常用，原因如下：

复杂性：macvlan和ipvlan网络模式相对于常规的桥接和覆盖网络模式更为复杂，配置和管理起来可能会更加困难。这增加了操作和维护的复杂性。

网络限制：macvlan和ipvlan网络模式在某些网络环境下可能受到限制，特别是在虚拟化环境中。例如，一些虚拟化平台可能不支持macvlan或ipvlan模式。

性能问题：虽然macvlan和ipvlan可以提供更接近物理网络的性能和隔离，但在某些情况下可能会导致性能下降。特别是在大规模容器部署中，可能会出现性能瓶颈。

使用场景有限：macvlan和ipvlan适用于特定的网络场景，例如需要容器直接映射到物理网络的情况。然而，对于大多数应用程序和场景来说，桥接和覆盖网络模式已经足够满足需求，并且更容易配置和管理。

综上所述，虽然macvlan和ipvlan提供了一些优势，但在大多数情况下，桥接和覆盖网络模式更为常用，更容易使用和管理。
```